# Payment Tracker V1.1 - Upgrade Guide

## ğŸ‰ What's New

V1.1 adds two major features to streamline your payment tracking:

1. **Monthly Expense Totals** - See total expenses per month at a glance
2. **Recurring Payments** - Automatically create monthly bills with one setup

---

## ğŸ“Š Monthly Expense Totals

### What It Does
- Shows total expenses for the month you're viewing in the calendar
- Updates automatically as you add, edit, or delete payments
- Only counts pending "I Owe" payments (not paid or "owed to me")

### Where to Find It
**Calendar Tab** - Look at the calendar header, right under the month name

```
January 2026
Monthly Total: $3,450.00        â† New!
[Calendar Grid]
```

### How It Works
- Automatically calculates all pending bills for the displayed month
- Includes partial payments (only the remaining balance)
- Changes when you navigate to different months
- Updates in real-time when you modify payments

### Example
If February 2026 has:
- Rent: $1,500 (due Feb 1st)
- Car Payment: $350 (due Feb 15th)
- Electric Bill: $120 (due Feb 20th)
- Internet: $80 (due Feb 5th)

**Monthly Total shows: $2,050.00**

---

## â™»ï¸ Recurring Payments

### What It Does
Automatically creates future instances of monthly bills with a single setup. No more manually adding rent every month!

### How to Set Up a Recurring Payment

1. **Click "+ Add Payment"**

2. **Fill in payment details as usual:**
   - Description: "Monthly Rent"
   - Person: "Landlord Inc"
   - Amount: $1,500
   - Due Date: February 1, 2026
   - Category: Personal
   - Type: I Owe

3. **Check "Recurring Payment (Auto-create monthly)"** âœ…

4. **Choose frequency:**
   - Monthly (default - bills due same day each month)
   - Every 2 Weeks (bi-weekly)
   - Weekly

5. **Choose how far ahead to create:**
   - 1 month
   - 2 months (default)
   - 3 months
   - 6 months
   - 12 months

6. **Click Save**

### What Happens Next

The system automatically creates:
- Your current payment (Feb 1st, 2026)
- Future instances based on your settings

**Example with "2 months ahead":**
- Feb 1, 2026 - $1,500 (created immediately)
- Mar 1, 2026 - $1,500 (auto-created)
- Apr 1, 2026 - $1,500 (auto-created)

All three payments appear in your calendar and payment list!

### Recurring Payment Indicators

**In Payment List:** Recurring payments show a â™»ï¸ icon
```
â™»ï¸ Monthly Rent - $1,500 (recurring indicator)
```

**In Payment Details:** When you edit a recurring payment, the "Recurring Payment" checkbox is checked

### Managing Recurring Payments

**To Edit:**
- Click edit on any instance
- Changes apply ONLY to that specific payment
- Other instances remain unchanged

**To Delete:**
- Click delete on any instance
- Deletes ONLY that specific payment
- Other instances remain (they're separate payments now)

**To Stop Recurring:**
- Just don't create new instances in the future
- Existing instances stay until you delete them

### Smart Duplicate Prevention

The system won't create duplicates! If a payment already exists for:
- Same date
- Same description
- Same person

It skips creating that instance.

### Frequency Options Explained

**Monthly:**
- Feb 1 â†’ Mar 1 â†’ Apr 1
- Same day of month
- Perfect for: Rent, subscriptions, loans

**Every 2 Weeks (Bi-weekly):**
- Feb 1 â†’ Feb 15 â†’ Mar 1 â†’ Mar 15
- Exactly 14 days apart
- Perfect for: Bi-weekly paychecks, contractor payments

**Weekly:**
- Feb 1 â†’ Feb 8 â†’ Feb 15 â†’ Feb 22
- Every 7 days
- Perfect for: Weekly services

### Best Practices

**For Monthly Bills:**
```
Frequency: Monthly
Months Ahead: 2-3 months

This keeps your calendar populated without going too far ahead.
As you mark payments paid, add another month of recurring payments.
```

**For Long-Term Planning:**
```
Frequency: Monthly
Months Ahead: 12 months

Good for annual planning or seeing your yearly expense picture.
```

**For Variable Bills:**
```
Don't use recurring for bills that change monthly (like electric).
Add those manually each month with the actual amount.
```

---

## ğŸ¯ Common Use Cases

### Use Case 1: Fixed Monthly Bills

**Setup rent as recurring:**
1. Add Payment
2. Description: "Rent"
3. Amount: $1,500
4. Due Date: 1st of next month
5. âœ… Recurring Payment (Auto-create monthly)
6. Months Ahead: 3 months
7. Save

**Result:** Rent for next 3 months is created automatically

**Repeat for:**
- Car payment
- Insurance
- Subscriptions (Netflix, Spotify, etc.)
- Loan payments

### Use Case 2: Payday-Based Bills

**Setup bi-weekly expense:**
1. Add Payment
2. Description: "Savings Transfer"
3. Amount: $500
4. Due Date: Next payday
5. âœ… Recurring Payment (Auto-create biweekly)
6. Frequency: Every 2 Weeks
7. Months Ahead: 2 months
8. Save

**Result:** Creates 4 instances (2 months of bi-weekly payments)

### Use Case 3: Cleaning Out Old Months

**Problem:** You set up rent for 12 months, now those months have passed

**Solution:**
1. Go to Payments tab
2. Filter: Paid
3. Select old paid rent payments
4. Bulk Delete

This keeps your tracker clean without affecting current/future bills.

---

## ğŸ’¡ Tips & Tricks

### Tip 1: Create Future Months Gradually
Don't create 12 months at once. Create 2-3 months ahead, and as you pay bills, create another month.

**Why:** Bills can change, you might move, subscriptions get canceled. Fewer future payments = less cleanup.

### Tip 2: Use Recurring for Fixed Amounts Only
Only make payments recurring if the amount stays the same:
- âœ… Rent: $1,500 (always the same)
- âœ… Car Payment: $350 (fixed)
- âŒ Electric Bill: varies monthly
- âŒ Credit Card: varies monthly

### Tip 3: Combine with Flagging
Mark your most important recurring bills as flagged:
1. Create recurring payment
2. Flag the first instance
3. Each month, flag the new instance when it appears

**Result:** Always see critical bills in "Flagged Payments"

### Tip 4: Partial Payments + Recurring = âŒ
Don't combine partial payments with recurring. Create recurring for the monthly payment amount, not the total loan.

**Bad:**
- Total Loan: $10,000
- Monthly Payment: $350
- âœ… Recurring + âœ… Partial Payment

**Good:**
- Monthly Payment: $350
- âœ… Recurring
- âŒ Partial Payment OFF

### Tip 5: Use Monthly Total for Budgeting
Before the month starts:
1. Navigate to next month in calendar
2. Check Monthly Total
3. Compare to expected income
4. Adjust spending if needed

**Example:**
```
March 2026
Monthly Total: $3,200.00

Your income: $4,000/month
After bills: $800 left
```

---

## ğŸ”§ Technical Details

### Data Structure Changes

**New Payment Fields:**
```javascript
{
  isRecurring: boolean,           // Whether payment is recurring
  recurringFrequency: string,     // "monthly", "biweekly", "weekly"
  recurringMonthsAhead: number    // How many months were auto-created
}
```

### Backward Compatibility
- Existing payments work without changes
- New fields default to: `isRecurring: false`
- Old exports can be imported to V1.1
- V1.1 exports can be imported to V1.0 (recurring fields ignored)

### Auto-Creation Logic
```
When saving a NEW recurring payment:
1. Save the original payment
2. Calculate next N instances based on frequency
3. Check for duplicates (same date + description + person)
4. Create only non-duplicate payments
5. Add all to payments array
6. Log to history
```

### Monthly Total Calculation
```
For displayed month (e.g., "2026-02"):
1. Filter payments where dueDate starts with "2026-02"
2. Include only: status === "pending" AND type === "i-owe"
3. For each payment:
   - If partial: use (totalAmount - amountPaid)
   - If normal: use amount
4. Sum all amounts
5. Display as "Monthly Total: $X,XXX.XX"
```

---

## ğŸ“‹ Frequently Asked Questions

**Q: If I edit a recurring payment, does it change all instances?**
A: No. Each instance is a separate payment. Editing one doesn't affect others.

**Q: Can I delete all instances of a recurring payment at once?**
A: Not automatically. Use bulk select to select multiple instances and delete together.

**Q: What happens if I create 12 months of rent and then move?**
A: You'll need to manually delete future months. Use bulk delete for faster cleanup.

**Q: Can I make an existing payment recurring?**
A: No. You'd need to:
1. Delete the existing payment
2. Create a new one with recurring enabled
This creates all the future instances.

**Q: Does recurring work with partial payments?**
A: Yes, but it's not recommended. Each instance will copy the partial payment settings, which can be confusing for loan tracking.

**Q: Can I change the recurring frequency after creation?**
A: No. The frequency is only used during initial creation. To change:
1. Delete future instances
2. Create new recurring payment with different frequency

**Q: Will recurring payments sync to V2?**
A: Yes! The data structure is documented and will be compatible with V2 migration.

**Q: Do recurring payments appear in exports?**
A: Yes, all payment instances are exported. The recurring fields are preserved.

**Q: Can I see which payments were auto-created?**
A: Look for the â™»ï¸ icon in the payment list. Also check History for "Recurring Payments Created" entries.

**Q: What if the monthly total is higher than my income?**
A: That's a warning sign! You'll need to:
- Adjust discretionary spending
- Move some bills to a different month (if possible)
- Plan to use savings to cover the gap

---

## ğŸ†• What Changed from V1.0

### Added
- âœ… Monthly expense total in calendar header
- âœ… Recurring payment checkbox in payment form
- âœ… Frequency selector (monthly, biweekly, weekly)
- âœ… Months ahead selector (1-12 months)
- âœ… Auto-creation of future payment instances
- âœ… Recurring indicator (â™»ï¸) in payment list
- âœ… Duplicate prevention for recurring payments
- âœ… History tracking for recurring creation

### Changed
- Calendar header layout (added monthly total row)
- Payment form (added recurring section)
- Data structure (added 3 new fields)

### Not Changed
- All existing features work the same
- Export/import still compatible
- No changes to dashboard, heatmap, goals, etc.

---

## ğŸš€ Getting Started

### Quick Start: Set Up Your Monthly Bills

1. **Open the tracker**

2. **Add your first recurring bill (rent):**
   - Click "+ Add Payment"
   - Fill in details
   - Check "Recurring Payment"
   - Choose "Monthly" and "2 months ahead"
   - Save

3. **Add more recurring bills:**
   - Car payment
   - Insurance
   - Internet
   - Phone bill
   - Subscriptions

4. **Check your calendar:**
   - Navigate to next month
   - See all bills automatically populated
   - Check the monthly total

5. **Export your data:**
   - Click ğŸ’¾ to backup
   - You now have months of payments saved!

---

## ğŸ“ Need Help?

**Issue: Recurring payments aren't being created**
- Check that "Recurring Payment" checkbox is checked
- Make sure you clicked "Save" (not Cancel)
- Look in History for "Recurring Payments Created" entry
- Navigate to future months in calendar to see them

**Issue: Too many duplicate payments**
- Delete the extras using bulk select
- When creating future instances, the system checks for exact matches
- Slight differences in description create separate payments

**Issue: Monthly total doesn't match expected**
- Total only includes "pending" payments
- Paid bills aren't counted
- "Owed to Me" payments aren't counted
- Only includes current calendar month

**Issue: Want to stop recurring for one payment**
- You can't "turn off" recurring for existing payments
- Just delete the future instances you don't want
- Or edit them to change details

---

## ğŸŠ Summary

V1.1 makes payment tracking significantly easier:

**Before V1.1:**
- Manually add rent every month âŒ
- Calculate monthly total in your head âŒ
- Forget to add bills until they're overdue âŒ

**After V1.1:**
- Set up rent once, auto-created for months âœ…
- See monthly total automatically âœ…
- All bills populated in advance âœ…

**Time Saved:**
- ~5 minutes per month per recurring bill
- If you have 8 recurring bills: **40 minutes/month saved!**
- Over a year: **8 hours saved** just on data entry

Plus better financial planning from seeing months ahead! ğŸ¯

---

Enjoy V1.1! ğŸš€
